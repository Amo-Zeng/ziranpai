# 自然派语法汇总

# 自然派介绍：
自然派是一种中文编程语言。它类似于Lisp，但是没有烦多的括号。（ziranpai is a Chinese programming language, which is similar to Lisp but without the cumbersome brackets.）
具体的前世今生参见（http://114.67.237.166/ziranpai.html ）
这个页面包括了一个二进制语言解释器和一些模块和代码。README.md是用jupyter notebook编写的。因为我设置了bash找不到命令时用调用 自然派 来运行。因此下面的代码是直接在bash终端可以运行的。读者可以使用 “./自然派 命令” 或 “自然派 代码文件” 或者直接 “./自然派” 来运行程序。

使用方法：

1.可以用github的codespace打开这个项目，然后 export PATH=/workspaces/ziranpai/Python-3.7.2/bin:$PATH 应该就可以用 “./自然派” 运行了。

2.下载到自己电脑，安装python3.7.2环境应该就可以了。

# 内置函数包括：
接一参数：["查看类变量","删除变量","系统命令","显示目录","转到目录","创建目录","是否文件","是否目录","组","大整","小整","绝对值","第一个","第一列","是否","长度","组否","数否","映射","最大值","最小值","否","空否","数字否","程序否","字符否","引用","打印","求值","片","加一","符之","数之","数","手动输入","去空","正弦","余弦","根号","指数"]

接两参数：["复制类变量","范","重命名","保存","读取","追加","加","或","且","合","分","位","减","乘","除","模","大于","小于","大于等于","等于","等否","令","设","通令","通设","在","附加","精度","函","超函","超超函","之","之后","之前","自加","自乘","组加","次方"]

接三参数：["画图","行读","若","替","直到","循","组循","之间"]

接四参数：["行读退","循退","组循跳"]

接多参数：["超合","打印"]


# 基本语法等

下面在jupyter notebook中的显示效果如下
![自然派程序运行效果](./yunxing.png)


```bash
#先是简单的加减乘除之类的，每一行一个输出，语法使用是直接明了的。井号放句首起注释作用。@@用于把两个语句成一句
加 3 4
乘 加 3 4 5
除 乘 加 3 4 5 7
小整 除 乘 加 3 4 5 7
根号 小整 除 乘 加 3 4 5 7
甲 3 @@ 打印 甲
甲 3 @@ 加一 甲 @@ 打印 甲
甲 3 @@ 加 甲 4
```

    7
    35
    5.0
    5
    2.23606797749979
    3
    4
    7



```bash
#字符串
打印 “我是曾珺行”
打印 之后 “我是曾珺行” 2
分 “我是曾珺行” “是”
之 分 “我是曾珺行” “是” 1
合 之 分 “我是曾珺行” “是” 1 “很帅”
```

    “我是曾珺行”
    “曾珺行”
    （“我” “曾珺行”）
    “曾珺行”
    “曾珺行很帅”



```bash
#数组
组 3
范 3 6
（组之 3 5 7）
（组之 “我” “是”）
附加 （组之 3 5 7） 8
令 甲（组之 3 5 7）@@打印 甲
令 甲（组之 3 5 7）@@附加 甲 8@@打印 甲
令 甲（组之 3 5 7）@@组加 甲 8@@打印 甲
```

    range(0, 3)
    range(3, 6)
    （3 5 7）
    （“我” “是”）
    （3 5 7 8）
    [3, 5, 7]
    [3, 5, 7]
    [3, 5, 7, 8]



```bash
#循环，循函数 遍循这个数组的元素到 甲 打印 甲。组循 返回一个数组。循退 满足条件退出循环。行读（退） 类似，数组换成文件名
循 组 3 甲 打印 甲
组循 组 3 甲 乘 甲 3
循退 组 5 甲 打印 甲 大于 甲 1
```

    0
    1
    2
    （0 3 6）
    0
    1



```bash
#函数。自然派的函数定义超简单。每一个以后的语句作为函数语句赋值给第一个语句。函数语句中直接使用数甲、数乙……代表第一、二……个参数。
一 数甲 @@ 一 3
二 乘 数甲 2 @@ 二 6
#以下用到若函数，若 数甲 大于 数乙 返回 数甲，否则 返回 数乙
大 若 大于 数甲 数乙 数甲 数乙@@ 大 4 6
#画图函数接的函数要用（）括起来，那个4.5是坐标中心位置。这是一个简单的乌龟实现，具体画图用画图模块。本来设计内置函数直接python就能运行，后来可能有些地方还是需要导入python模块。
#一 数甲 @@ 画图 （一）3 6
#当然有时候需要明确参数名字，而不是数甲之类的。用 函 等来返回函数
令 大 函 （数一 数二）（若 大于 数一 数二 数一 数二）@@ 大 3 5
#超函 参数可以是代码片段。也可以用以上简易方法定义，代码片段用运甲、运乙……等表示。（开始 多条语句）多条语句看成一条语句依次运行，也可以用【】。
令 循次 超函 （操作 次数）（开始 操作 若 等于 次数 1 无 （循次 操作 减 次数 1））@@循次 打印 甲 3
循好 运甲 若 等于 运乙 1 无 循好 运甲 减 运乙 1@@循好 打印 你好 3
#超超函是为了实现参数可以同时为数和代码片段，事实证明面的代码片段也可以是数，不过下面的用法比较简单。注意数甲……在运甲……前。
循甲 运甲 若 等于 数甲 1 无 循甲 减 数甲 1 运甲 @@ 循甲 3 打印 甲
比运 若 大于 数甲 数乙 运甲 运乙 @@ 比运 3 5 打印 甲 打印 乙
```

    3
    12
    6
    5
    甲
    甲
    甲
    你好
    你好
    你好
    甲
    甲
    甲
    乙



```bash
#类 我这里其实直接把类当成变量了，只是多了个 # 号连接。
人#身高 170 @@ 人#体重 130 @@ 复制类变量 人 我@@打印 我#身高 @@查看类变量 我
设（超合 人# 腿 长）100 @@ 打印 人#腿长
设（超合 人# 腿 长）100 @@ 打印（超合 人# 腿 长）
设（超合 人# 腿 长）100 @@ 加 引用（超合 人# 腿 长）20
```

    170
    （我#身高 我#体重）
    100
    人#腿长
    120


# 神经网络


```bash
#神经网络。把以下代码存入一个文件，再用 自然派 文件 就可以运行了。
#闲话，我对这个神经网络还是挺满意的。只用了几句话就实现了任意结构的神经网络（其实可以通过@@把所有语句连成一句话）。神网#结构 后面接一个数组，数组中每一个数分别代表每一层的神经元个数。
#! /media/amo/e/xiaopy/自然派
#####神经网络相关函数定义
激活 除 1 加 1 指数 减 0 数甲
激活导 乘 激活 数甲 减 1 激活 数甲
损失 令 果 0 若 组否 数甲 组#均 组#差方 数甲 数乙 除 加 数甲 数乙 2

#####神经网络开始定义
神网#初始化 【循 组 减 长度 神网#结构 1 层数 循 组 之 神网#结构 层数 元位 循 组 之 神网#结构 加 层数 1 次元位 通设 （超合 神网#权 层数 层 元位 至 次元位）随机数        循 组 减 长度 神网#结构 1 层数 循 组 之 神网#结构 加 层数 1 元位  通设 （超合 神网#截 加 层数 1 层 元位）随机数】
神网#计算 循 组 长度 数甲 零元 通设 （超合 神网#果 0 层 零元）之 数甲 零元 循 组 减 长度 神网#结构 1 层数 循 组 之 神网#结构 加 层数 1 元位 通设 （超合 神网#果 加 层数 1 层 元位）加 引用（超合 神网#截 加 层数 1 层 元位）【令 果 0 循 组 之 神网#结构 层数 前元 自加 果 乘 引用 （超合 神网#权 层数 层 前元 至 元位）引用 （超合 神网#果 层数 层 前元） 果】  
神网#求导 通设 （超合 神网#导 减 长度 神网#结构 1 层 0）乘 乘 -2 减 数甲 激活 引用 （超合 神网#果 减 长度 神网#结构 1 层 0）激活导 引用 （超合 神网#果 减 长度 神网#结构 1 层 0）循 组 减 长度 神网#结构 2 假层 【令 层数 减 减 长度 神网#结构 2 假层 循 组 之 神网#结构 层数 元位 通设 （超合 神网#导 层数 层 元位）乘 激活导 引用（超合 神网#果 层数 层 元位）【令 果 0 循 组 之 神网#结构 加 层数 1 后元 自加 果 乘 引用 （超合 神网#权 层数 层 元位 至 后元）引用 （超合 神网#导 加 层数 1 层 后元） 果】】
神网#更新 【循 组 减 长度 神网#结构 1 层数 循 组 之 神网#结构 层数 元位 循 组 之 神网#结构 加 层数 1 次元位 设 （超合 神网#权 层数 层 元位 至 次元位）减 引用（超合 神网#权 层数 层 元位 至 次元位）乘 乘 神网#学习率 引用（超合 神网#导 加 层数 1 层 次元位）激活 引用（超合 神网#果 层数 层 元位）       循 组 减 长度 神网#结构 1 层数 循 组 之 神网#结构 加 层数 1 元位  设 （超合 神网#截 加 层数 1 层 元位）减 引用（超合 神网#截 加 层数 1 层 元位）乘 神网#学习率 引用（超合 神网#导 加 层数 1 层 元位）】
神网#训练 循 组 神网#训练期数 期 循 组 长度 数甲 甲 【神网#计算 之 数甲 甲 神网#求导 之 数乙 甲 神网#更新 】

#输入输出
类1 乘 2 数甲
类2 乘 数甲 3
令 输入 【令 果 空组 循 组 100 甲 【组加 果 （组之 甲 类1 甲）组加 果 （组之 甲 类2 甲）】果】 
令 输出 【令 果 空组 循 组 100 甲 【组加 果 0 组加 果 1】 果】 
打印 输入
打印 输出

#神经网络初始化和训练
神网#结构 （组之 2 1）
神网#学习率 0.1
神网#训练期数 300
打印 神网#结构
神网#初始化
神网#训练 输入 输出

#神经网络预测
神网#计算 （组之 30 60）
打印 激活 引用 （超合 神网#果 减 长度 神网#结构 1 层 0）
神网#计算 （组之 40 120）
打印 激活 引用 （超合 神网#果 减 长度 神网#结构 1 层 0）
神网#计算 （组之 11.5 23）
打印 激活 引用 （超合 神网#果 减 长度 神网#结构 1 层 0）
神网#计算 （组之 21.5 64.5）
打印 激活 引用 （超合 神网#果 减 长度 神网#结构 1 层 0）
神网#计算 （组之 21 34）
打印 激活 引用 （超合 神网#果 减 长度 神网#结构 1 层 0）
神网#计算 （组之 21 74）
打印 激活 引用 （超合 神网#果 减 长度 神网#结构 1 层 0）
```


```bash
#我把上一个单元格的输出手动粘贴到这儿了。我生成了斜率分别为2和3的两类数据，看出来结果还是可以的。
[[0, 0], [0, 0], [1, 2], [1, 3], [2, 4], [2, 6], [3, 6], [3, 9], [4, 8], [4, 12], [5, 10], [5, 15], [6, 12], [6, 18], [7, 14], [7, 21], [8, 16], [8, 24], [9, 18], [9, 27], [10, 20], [10, 30], [11, 22], [11, 33], [12, 24], [12, 36], [13, 26], [13, 39], [14, 28], [14, 42], [15, 30], [15, 45], [16, 32], [16, 48], [17, 34], [17, 51], [18, 36], [18, 54], [19, 38], [19, 57], [20, 40], [20, 60], [21, 42], [21, 63], [22, 44], [22, 66], [23, 46], [23, 69], [24, 48], [24, 72], [25, 50], [25, 75], [26, 52], [26, 78], [27, 54], [27, 81], [28, 56], [28, 84], [29, 58], [29, 87], [30, 60], [30, 90], [31, 62], [31, 93], [32, 64], [32, 96], [33, 66], [33, 99], [34, 68], [34, 102], [35, 70], [35, 105], [36, 72], [36, 108], [37, 74], [37, 111], [38, 76], [38, 114], [39, 78], [39, 117], [40, 80], [40, 120], [41, 82], [41, 123], [42, 84], [42, 126], [43, 86], [43, 129], [44, 88], [44, 132], [45, 90], [45, 135], [46, 92], [46, 138], [47, 94], [47, 141], [48, 96], [48, 144], [49, 98], [49, 147], [50, 100], [50, 150], [51, 102], [51, 153], [52, 104], [52, 156], [53, 106], [53, 159], [54, 108], [54, 162], [55, 110], [55, 165], [56, 112], [56, 168], [57, 114], [57, 171], [58, 116], [58, 174], [59, 118], [59, 177], [60, 120], [60, 180], [61, 122], [61, 183], [62, 124], [62, 186], [63, 126], [63, 189], [64, 128], [64, 192], [65, 130], [65, 195], [66, 132], [66, 198], [67, 134], [67, 201], [68, 136], [68, 204], [69, 138], [69, 207], [70, 140], [70, 210], [71, 142], [71, 213], [72, 144], [72, 216], [73, 146], [73, 219], [74, 148], [74, 222], [75, 150], [75, 225], [76, 152], [76, 228], [77, 154], [77, 231], [78, 156], [78, 234], [79, 158], [79, 237], [80, 160], [80, 240], [81, 162], [81, 243], [82, 164], [82, 246], [83, 166], [83, 249], [84, 168], [84, 252], [85, 170], [85, 255], [86, 172], [86, 258], [87, 174], [87, 261], [88, 176], [88, 264], [89, 178], [89, 267], [90, 180], [90, 270], [91, 182], [91, 273], [92, 184], [92, 276], [93, 186], [93, 279], [94, 188], [94, 282], [95, 190], [95, 285], [96, 192], [96, 288], [97, 194], [97, 291], [98, 196], [98, 294], [99, 198], [99, 297]]
[0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1]
[2, 1]
0.001369421987552806
0.9999442083487414
0.07127392659995314
0.9946957069365133
0.00023721719226354253
0.9999633862476714
```

# 制作和导入模块

 ![自然派模块模板](./mokuai.png)
 如上图，用python写的函数按格式传给最后这些函子、函丑……，然后运行 “导入 模块模板” 。就可以直接调用这些函数了。之前出现过的 引用 这个函数还可以用来引用一些自然派语言编写的函数。


```bash
导入 模块模板@@显示图像 读入图片 ./mokuai.png
```

    [[[255 255 255]
      [255 255 255]
      [255 255 255]
      ...
      [255 255 255]
      [255 255 255]
      [255 255 255]]
    
     [[255 255 255]
      [ 96  96  96]
      [ 96  96  96]
      ...
      [255 255 255]
      [255 255 255]
      [255 255 255]]
    
     [[255 255 255]
      [ 96  96  96]
      [255 255 255]
      ...
      [255 255 255]
      [255 255 255]
      [255 255 255]]
    
     ...
    
     [[255 255 255]
      [ 96  96  96]
      [255 255 255]
      ...
      [255 255 255]
      [255 255 255]
      [255 255 255]]
    
     [[255 255 255]
      [ 96  96  96]
      [165 165 165]
      ...
      [255 255 255]
      [255 255 255]
      [255 255 255]]
    
     [[255 255 255]
      [ 96  96  96]
      [ 96  96  96]
      ...
      [255 255 255]
      [255 255 255]
      [255 255 255]]]



```bash
自然派 引用 内置函数 @@ 内存
```

    （              total        used        free      shared  buff/cache   available Mem:           7.7G        4.0G        410M        159M        3.3G        3.2G Swap:           15G        417M         15G）



```bash

```
